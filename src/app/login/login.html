<main class="container">
  <section class="info-panel slideshow">
    <div class="slide"></div>
    <div class="slide"></div>
    <div class="slide"></div>
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
  </section>

  <section class="login-panel">
    <article class="login-card">
      <div class="textbox">
        <h1><b>D</b>ungeon<b>M</b>ind</h1>
        <h2>Um sistema para jogar RPG utilizando IA</h2>
      </div>
      <mat-tab-group [(selectedIndex)]="selectedTabIndex" dynamicHeight>
        <!-- Entrar -->
        <mat-tab>
          <h2>Entre em sua conta</h2>
          <form>
            <mat-form-field>
              <mat-label>E-mail</mat-label>
              <input
                name="email"
                type="email"
                matInput
                [formControl]="emailFormControl"
                [errorStateMatcher]="matcher"
                placeholder="Ex. nome@exemplo.com"
              />
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Insira um endereço de e-mail válido</mat-error>
              } @if (emailFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <mat-form-field>
              <mat-label>Senha</mat-label>
              <input
                type="password"
                matInput
                [formControl]="passwordFormControl"
                [errorStateMatcher]="matcher"
              />
              @if (passwordFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <button type="submit" matButton="filled">Entrar</button>
          </form>
          <div class="links">
            <a title="Crie uma conta" (click)="goToTab(1)">Crie uma conta</a> |
            <a title="Esqueceu a senha?" (click)="goToTab(2)">Esqueceu a senha?</a>
          </div>
        </mat-tab>
        <!-- Criar -->
        <mat-tab>
          <h2>Crie sua conta</h2>
          <form>
            <mat-form-field>
              <mat-label>E-mail</mat-label>
              <input
                type="email"
                matInput
                [formControl]="emailFormControl"
                [errorStateMatcher]="matcher"
                placeholder="Ex. nome@exemplo.com"
              />
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Insira um endereço de e-mail válido</mat-error>
              } @if (emailFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <mat-form-field>
              <mat-label>Senha</mat-label>
              <input
                type="password"
                matInput
                [formControl]="passwordFormControl"
                [errorStateMatcher]="matcher"
              />
              @if (passwordFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <mat-form-field>
              <mat-label>Confirme sua senha</mat-label>
              <input
                type="password"
                matInput
                [formControl]="passwordFormControl"
                [errorStateMatcher]="matcher"
              />
              @if (passwordFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <button type="submit" matButton="filled">Criar</button>
          </form>
          <div class="links">
            <a title="Entre com uma conta existente" (click)="goToTab(0)">Entre com uma conta existente</a>
          </div>
        </mat-tab>
        <!-- Recuperar -->
        <mat-tab>
          <h2>Recupere sua senha</h2>
          <form>
            <mat-form-field>
              <mat-label>E-mail da conta</mat-label>
              <input
                type="email"
                matInput
                [formControl]="emailFormControl"
                [errorStateMatcher]="matcher"
                placeholder="Ex. nome@exemplo.com"
              />
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Insira um endereço de e-mail válido</mat-error>
              } @if (emailFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <button type="submit" matButton="filled">Recuperar senha</button>
          </form>
          <div class="links">
            <a title="Entre com uma conta existente" (click)="goToTab(0)">Entre com uma conta existente</a> |
            <a title="Crie uma conta" (click)="goToTab(1)">Crie uma conta</a>
          </div>
        </mat-tab>
        <!-- Confirmação -->
        <mat-tab>
          <h2>Insira o código enviado ao seu e-mail</h2>
          <form>
            <mat-form-field>
              <mat-label>Código</mat-label>
              <input type="text" matInput/>
            </mat-form-field>
            <button type="submit" matButton="filled">Confirmar</button>
          </form>
          <div class="links">
            <a title="Retornar" (click)="goToTab(3)">Retornar</a>
          </div>
        </mat-tab>
        <!-- Redefinição -->
        <mat-tab>
          <h2>Redefina sua senha</h2>
          <form>
            <mat-form-field>
              <mat-label>Nova senha</mat-label>
              <input
                type="password"
                matInput
                [formControl]="passwordFormControl"
                [errorStateMatcher]="matcher"
              />
              @if (passwordFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <mat-form-field>
              <mat-label>Confirme sua nova senha</mat-label>
              <input
                type="password"
                matInput
                [formControl]="passwordFormControl"
                [errorStateMatcher]="matcher"
              />
              @if (passwordFormControl.hasError('required')) {
                <mat-error>O preenchimento deste campo é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
            <button type="submit" matButton="filled">Confirmar redefinição</button>
          </form>
          <div class="links">
            <a title="Retornar" (click)="goToTab(4)">Retornar</a>
          </div>
        </mat-tab>
      </mat-tab-group>
    </article>
  </section>
</main>
